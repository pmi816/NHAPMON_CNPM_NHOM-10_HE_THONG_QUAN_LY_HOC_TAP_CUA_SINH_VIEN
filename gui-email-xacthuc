import smtplib
import ssl
from email.message import EmailMessage

def send_verification_email(to_email, verify_code):
    # Th√¥ng tin email g·ª≠i ƒëi
    from_email = "youremail@gmail.com"     # Gmail c·ªßa b·∫°n
    app_password = "your_app_password"      # M·∫≠t kh·∫©u ·ª©ng d·ª•ng Gmail

    subject = "X√°c th·ª±c t√†i kho·∫£n sinh vi√™n"
    body = f"""
    Xin ch√†o,

    ƒê√¢y l√† m√£ x√°c th·ª±c t√†i kho·∫£n c·ªßa b·∫°n: {verify_code}

    Nh·∫≠p m√£ n√†y v√†o h·ªá th·ªëng ƒë·ªÉ k√≠ch ho·∫°t t√†i kho·∫£n.

    Tr√¢n tr·ªçng.
    """

    # T·∫°o email
    msg = EmailMessage()
    msg["From"] = from_email
    msg["To"] = to_email
    msg["Subject"] = subject
    msg.set_content(body)

    # G·ª≠i email
    context = ssl.create_default_context()

    try:
        with smtplib.SMTP_SSL("smtp.gmail.com", 465, context=context) as smtp:
            smtp.login(from_email, app_password)
            smtp.send_message(msg)
            print("üì® Email x√°c th·ª±c ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!")

    except Exception as e:
        print("‚ùå G·ª≠i email th·∫•t b·∫°i:", e)


# --------- Ch·∫°y th·ª≠ ----------
email = input("Nh·∫≠p email ng∆∞·ªùi nh·∫≠n: ")
code = "123456"  # M√£ x√°c th·ª±c ‚Äì b·∫°n c√≥ th·ªÉ random

send_verification_email(email, code)
