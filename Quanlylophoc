
# C·∫•u tr√∫c: {ma_lop: {'ten': ten_lop, 'mo_ta': mo_ta_lop, 'sinh_vien': [ds_sinh_vien]}}
ds_lop_hoc = {}

# --- 1. T·∫°o l·ªõp h·ªçc m·ªõi ---
def tao_lop_hoc_moi():
    print("\n--- 1. T·∫°o l·ªõp h·ªçc m·ªõi ---")
    ma_lop = input("Nh·∫≠p m√£ l·ªõp (duy nh·∫•t): ").upper()
    
    if ma_lop in ds_lop_hoc:
        print(f"‚ö†Ô∏è L·ªói: M√£ l·ªõp '{ma_lop}' ƒë√£ t·ªìn t·∫°i.")
        return

    ten_lop = input("Nh·∫≠p t√™n l·ªõp: ")
    mo_ta_lop = input("Nh·∫≠p m√¥ t·∫£ l·ªõp: ")
    
    # Kh·ªüi t·∫°o l·ªõp h·ªçc v·ªõi danh s√°ch sinh vi√™n tr·ªëng
    ds_lop_hoc[ma_lop] = {
        'ten': ten_lop,
        'mo_ta': mo_ta_lop,
        'sinh_vien': [] 
    }
    print(f"‚úÖ ƒê√£ t·∫°o l·ªõp h·ªçc **{ten_lop}** (M√£: {ma_lop}) th√†nh c√¥ng.")

# --- 2. C·∫≠p nh·∫≠t th√¥ng tin l·ªõp h·ªçc (T√™n l·ªõp, m√¥ t·∫£, m√£ l·ªõp) ---
def cap_nhat_thong_tin_lop_hoc():
    print("\n--- 2. C·∫≠p nh·∫≠t th√¥ng tin l·ªõp h·ªçc ---")
    ma_lop = input("Nh·∫≠p m√£ l·ªõp c·∫ßn c·∫≠p nh·∫≠t: ").upper()
    
    if ma_lop not in ds_lop_hoc:
        print(f"‚ö†Ô∏è L·ªói: Kh√¥ng t√¨m th·∫•y l·ªõp h·ªçc v·ªõi m√£ '{ma_lop}'.")
        return

    lop_hoc = ds_lop_hoc[ma_lop]
    
    # C·∫≠p nh·∫≠t T√™n l·ªõp
    ten_moi = input(f"C·∫≠p nh·∫≠t t√™n l·ªõp (hi·ªán t·∫°i: {lop_hoc['ten']}) [B·ªè qua n·∫øu ƒë·ªÉ tr·ªëng]: ")
    if ten_moi:
        lop_hoc['ten'] = ten_moi
        print("‚úÖ ƒê√£ c·∫≠p nh·∫≠t T√™n l·ªõp.")

    # C·∫≠p nh·∫≠t M√¥ t·∫£
    mo_ta_moi = input(f"C·∫≠p nh·∫≠t m√¥ t·∫£ (hi·ªán t·∫°i: {lop_hoc['mo_ta']}) [B·ªè qua n·∫øu ƒë·ªÉ tr·ªëng]: ")
    if mo_ta_moi:
        lop_hoc['mo_ta'] = mo_ta_moi
        print("‚úÖ ƒê√£ c·∫≠p nh·∫≠t M√¥ t·∫£.")
        
    # C·∫≠p nh·∫≠t M√£ l·ªõp (ph·ª©c t·∫°p h∆°n, c·∫ßn t·∫°o kh√≥a m·ªõi v√† x√≥a kh√≥a c≈©)
    ma_moi = input(f"C·∫≠p nh·∫≠t M√£ l·ªõp (hi·ªán t·∫°i: {ma_lop}) [B·ªè qua n·∫øu ƒë·ªÉ tr·ªëng]: ").upper()
    if ma_moi and ma_moi != ma_lop:
        if ma_moi in ds_lop_hoc:
            print(f"‚ö†Ô∏è L·ªói: M√£ l·ªõp m·ªõi '{ma_moi}' ƒë√£ t·ªìn t·∫°i.")
        else:
            # T·∫°o b·∫£n sao c·ªßa d·ªØ li·ªáu l·ªõp h·ªçc
            ds_lop_hoc[ma_moi] = ds_lop_hoc.pop(ma_lop) 
            print(f"‚úÖ ƒê√£ c·∫≠p nh·∫≠t M√£ l·ªõp th√†nh c√¥ng: **{ma_lop}** -> **{ma_moi}**.")
            ma_lop = ma_moi # C·∫≠p nh·∫≠t m√£ l·ªõp ƒë·ªÉ tr√°nh nh·∫ßm l·∫´n

# --- 3. X√≥a l·ªõp h·ªçc ---
def xoa_lop_hoc():
    print("\n--- 3. X√≥a l·ªõp h·ªçc ---")
    ma_lop = input("Nh·∫≠p m√£ l·ªõp c·∫ßn x√≥a: ").upper()
    
    if ma_lop not in ds_lop_hoc:
        print(f"‚ö†Ô∏è L·ªói: Kh√¥ng t√¨m th·∫•y l·ªõp h·ªçc v·ªõi m√£ '{ma_lop}'.")
        return

    xac_nhan = input(f"B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a l·ªõp '{ds_lop_hoc[ma_lop]['ten']}' (M√£: {ma_lop})? (y/n): ").lower()
    
    if xac_nhan == 'y':
        del ds_lop_hoc[ma_lop]
        print(f"‚úÖ ƒê√£ x√≥a l·ªõp h·ªçc **{ma_lop}** th√†nh c√¥ng.")
    else:
        print("Hu·ª∑ thao t√°c x√≥a l·ªõp.")

# --- 4. Th√™m / X√≥a sinh vi√™n kh·ªèi l·ªõp ---
def quan_ly_sinh_vien():
    print("\n--- 4. Th√™m / X√≥a sinh vi√™n kh·ªèi l·ªõp ---")
    ma_lop = input("Nh·∫≠p m√£ l·ªõp c·∫ßn qu·∫£n l√Ω sinh vi√™n: ").upper()
    
    if ma_lop not in ds_lop_hoc:
        print(f"‚ö†Ô∏è L·ªói: Kh√¥ng t√¨m th·∫•y l·ªõp h·ªçc v·ªõi m√£ '{ma_lop}'.")
        return

    lop_hien_tai = ds_lop_hoc[ma_lop]
    print(f"\nQu·∫£n l√Ω sinh vi√™n cho l·ªõp: **{lop_hien_tai['ten']}** (M√£: {ma_lop})")
    
    while True:
        print("\n* Danh s√°ch sinh vi√™n hi·ªán t·∫°i: ", lop_hien_tai['sinh_vien'])
        print("  a: Th√™m sinh vi√™n")
        print("  r: X√≥a sinh vi√™n")
        print("  q: Quay l·∫°i menu ch√≠nh")
        
        chon = input("Ch·ªçn h√†nh ƒë·ªông: ").lower()

        if chon == 'a':
            ten_sv = input("Nh·∫≠p t√™n sinh vi√™n mu·ªën th√™m: ")
            if ten_sv not in lop_hien_tai['sinh_vien']:
                lop_hien_tai['sinh_vien'].append(ten_sv)
                print(f"‚úÖ ƒê√£ th√™m sinh vi√™n **{ten_sv}** v√†o l·ªõp.")
            else:
                print(f"‚ö†Ô∏è Sinh vi√™n **{ten_sv}** ƒë√£ c√≥ trong l·ªõp.")
                
        elif chon == 'r':
            ten_sv = input("Nh·∫≠p t√™n sinh vi√™n mu·ªën x√≥a: ")
            if ten_sv in lop_hien_tai['sinh_vien']:
                lop_hien_tai['sinh_vien'].remove(ten_sv)
                print(f"‚úÖ ƒê√£ x√≥a sinh vi√™n **{ten_sv}** kh·ªèi l·ªõp.")
            else:
                print(f"‚ö†Ô∏è L·ªói: Kh√¥ng t√¨m th·∫•y sinh vi√™n **{ten_sv}** trong l·ªõp.")
                
        elif chon == 'q':
            break
            
        else:
            print("L·ª±a ch·ªçn kh√¥ng h·ª£p l·ªá. Vui l√≤ng th·ª≠ l·∫°i.")

# --- H√†m hi·ªÉn th·ªã t·∫•t c·∫£ l·ªõp h·ªçc (h·ªØu √≠ch cho vi·ªác ki·ªÉm tra) ---
def hien_thi_lop_hoc():
    print("\n*** DANH S√ÅCH T·∫§T C·∫¢ L·ªöP H·ªåC ***")
    if not ds_lop_hoc:
        print("Kh√¥ng c√≥ l·ªõp h·ªçc n√†o.")
        return
        
    for ma, lop in ds_lop_hoc.items():
        print(f"\nüìã M√£: **{ma}**")
        print(f"   T√™n: {lop['ten']}")
        print(f"   M√¥ t·∫£: {lop['mo_ta']}")
        print(f"   SV: {len(lop['sinh_vien'])} ng∆∞·ªùi ({', '.join(lop['sinh_vien'])})")
        
# --- Menu ch√≠nh ---
def main():
    while True:
        print("\n==============================")
        print("üöÄ H·ªÜ TH·ªêNG QU·∫¢N L√ù L·ªöP H·ªåC")
        print("==============================")
        print("1. T·∫°o l·ªõp h·ªçc m·ªõi")
        print("2. C·∫≠p nh·∫≠t th√¥ng tin l·ªõp h·ªçc")
        print("3. X√≥a l·ªõp h·ªçc")
        print("4. Th√™m / X√≥a sinh vi√™n kh·ªèi l·ªõp")
        print("5. Hi·ªÉn th·ªã t·∫•t c·∫£ l·ªõp h·ªçc (Ki·ªÉm tra)")
        print("0. Tho√°t")
        
        lua_chon = input("Nh·∫≠p l·ª±a ch·ªçn c·ªßa b·∫°n (0-5): ")
        
        if lua_chon == '1':
            tao_lop_hoc_moi()
        elif lua_chon == '2':
            cap_nhat_thong_tin_lop_hoc()
        elif lua_chon == '3':
            xoa_lop_hoc()
        elif lua_chon == '4':
            quan_ly_sinh_vien()
        elif lua_chon == '5':
            hien_thi_lop_hoc()
        elif lua_chon == '0':
            print("üëã ƒê√£ tho√°t ch∆∞∆°ng tr√¨nh qu·∫£n l√Ω. T·∫°m bi·ªát!")
            break
        else:
            print("L·ª±a ch·ªçn kh√¥ng h·ª£p l·ªá. Vui l√≤ng ch·ªçn t·ª´ 0 ƒë·∫øn 5.")

# Ch·∫°y ch∆∞∆°ng tr√¨nh
if __name__ == "__main__":
    main()