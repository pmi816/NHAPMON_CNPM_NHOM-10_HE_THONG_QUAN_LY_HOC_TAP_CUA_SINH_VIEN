def admin_create_account():
    # X√°c nh·∫≠n quy·ªÅn admin
    if not verify_admin():
        print("‚ùå Kh√¥ng c√≥ quy·ªÅn t·∫°o t√†i kho·∫£n")
        return

    # Nh·∫≠p th√¥ng tin c∆° b·∫£n
    full_name, email, password = input_account_info()

    # Ki·ªÉm tra email
    if is_email_exist(email):
        print("‚ùå Email ƒë√£ t·ªìn t·∫°i")
        return

    # Ch·ªçn lo·∫°i t√†i kho·∫£n
    role = choose_account_role()
    if role is None:
        return

    # Nh·∫≠p th√¥ng tin chi ti·∫øt
    department, temp_password = input_detail_info(role)

    if role == "giang_vien":
        password = temp_password

    # T·∫°o t√†i kho·∫£n
    new_account = build_account(
        full_name, email, password, role, department
    )

    accounts_db.append(new_account)

    # G·ª≠i email th√¥ng b√°o
    send_email(email, role)

    print("‚úÖ T·∫°o t√†i kho·∫£n th√†nh c√¥ng!")

#  Gi·∫£ l·∫≠p c∆° s·ªü d·ªØ li·ªáu t√†i kho·∫£n
accounts_db = [
    {
        "full_name": "Admin Root",
        "email": "admin@system.com",
        "password": "admin123",
        "role": "admin"
    }
]
def input_account_info():
    full_name = input("Nh·∫≠p h·ªç t√™n: ")
    email = input("Nh·∫≠p email: ")
    password = input("Nh·∫≠p m·∫≠t kh·∫©u: ")
    return full_name, email, password
def choose_account_role():
    print("Ch·ªçn lo·∫°i t√†i kho·∫£n:")
    print("1. Gi·∫£ng vi√™n")
    print("2. Admin")
    choice = input("Nh·∫≠p l·ª±a ch·ªçn (1/2): ")

    if choice == "1":
        return "giang_vien"
    elif choice == "2":
        return "admin"
    else:
        print("‚ùå L·ª±a ch·ªçn kh√¥ng h·ª£p l·ªá")
        return None
def is_email_exist(email):
    for account in accounts_db:
        if account["email"] == email:
            return True
    return False
def build_account(full_name, email, password, role, department=None):
    account = {
        "full_name": full_name,
        "email": email,
        "password": password,
        "role": role
    }

    if role == "giang_vien":
        account["department"] = department

    return account
def input_detail_info(role):
    if role == "giang_vien":
        department = input("Nh·∫≠p khoa/ph√≤ng ban: ")
        temp_password = "GV123456"   # m·∫≠t kh·∫©u t·∫°m th·ªùi
        return department, temp_password
    else:
        return None, None
def verify_admin():
    admin_password = input("Nh·∫≠p m·∫≠t kh·∫©u admin ƒë·ªÉ x√°c nh·∫≠n: ")
    for account in accounts_db:
        if account["role"] == "admin" and account["password"] == admin_password:
            return True
    return False
def send_email(email, role):
    print(f"üìß G·ª≠i email th√¥ng b√°o t·∫°o t√†i kho·∫£n {role} th√†nh c√¥ng t·ªõi {email}")


