from fastapi import FastAPI, HTTPException
from fake_db import grades

app = FastAPI()

@app.get("/student/{student_id}/grades")
def view_student_grades(student_id: int, semester: str = None):
    result = [
        g for g in grades
        if g["student_id"] == student_id
        and (semester is None or g["semester"] == semester)
    ]

    if not result:
        raise HTTPException(status_code=404, detail="Không có dữ liệu điểm")
    return result
