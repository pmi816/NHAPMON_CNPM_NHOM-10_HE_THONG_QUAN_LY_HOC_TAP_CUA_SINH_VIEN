
def nhap_email_can_khoi_phuc():
    
    email = input("Vui lòng nhập email của bạn: ")
    print(f" Đã nhập email '{email}'")
    return email

def he_thong_kiem_tra_email(email):
   
   
    email_ton_tai = True
    if email_ton_tai:
        print(" Email tồn tại trong hệ thống.")
        return True
    else:
        print(" Email không tồn tại.")
        return False

def gui_email_chua_ma_otp_hoac_link_reset():
    
    print(" Đã gửi email chứa mã OTP/link reset mật khẩu.")
    return "123456" # Giả định mã OTP được gửi

def nhap_mat_khau_moi(otp_da_gui):
    
   
    otp_nhap_vao = input("Vui lòng nhập mã OTP đã gửi qua email: ")
    if otp_nhap_vao == otp_da_gui:
        print("Xác thực OTP thành công.")
        mat_khau_moi = input("Vui lòng nhập mật khẩu mới: ")
        print(" Đã nhập mật khẩu mới.")
        return mat_khau_moi
    else:
        print(" Mã OTP không chính xác.")
        return None

def luu_mat_khau_moi_sau_khi_ma_hoa(mat_khau_moi):
   
    if mat_khau_moi:
      
        mat_khau_da_ma_hoa = f"HASHED_{mat_khau_moi}_SALT"
       
        print(f" Đã mã hóa và lưu mật khẩu mới: {mat_khau_da_ma_hoa}")
        return True
    else:
        print(" Không có mật khẩu mới để lưu.")
        return False


def quy_trinh_khoi_phuc_mat_khau():
    print("--- Bắt đầu Quy trình Khôi phục Mật khẩu ---")

   
    email = nhap_email_can_khoi_phuc()

    
    if not he_thong_kiem_tra_email(email):
        return

   
    otp_da_gui = gui_email_chua_ma_otp_hoac_link_reset()

   
    mat_khau_moi = nhap_mat_khau_moi(otp_da_gui)
    if not mat_khau_moi:
        return

   
    luu_mat_khau_moi_sau_khi_ma_hoa(mat_khau_moi)

    print("--- Quy trình Khôi phục Mật khẩu hoàn tất thành công! ---")

if __name__ == "__main__":
    quy_trinh_khoi_phuc_mat_khau()